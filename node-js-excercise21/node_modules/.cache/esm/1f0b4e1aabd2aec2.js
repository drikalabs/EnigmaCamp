let express,middleware,AppRouter,createDBConnection,configure;_abd‍.w("express",[["default",["express"],function(v){express=v}]]);_abd‍.w("./middlewares/app-middlewares",[["default",["middleware"],function(v){middleware=v}]]);_abd‍.w("./routes",[["default",["AppRouter"],function(v){AppRouter=v}]]);_abd‍.w("./database/connection",[["default",["createDBConnection"],function(v){createDBConnection=v}]]);_abd‍.w("./config",[["default",["configure"],function(v){configure=v}]]);





configure();
createDBConnection()
    .then((connection) => {
        if (connection.isConnected) {
            console.log(`Connected to ${process.env.BD_DRIVER} database at ${process.env.DB_NAME}`);

            const app = express();
            app.use(middleware);
            app.use(AppRouter);
            app.listen(process.env.APP_PORT, () => {
                console.log(`${process.env.APP_NAME} listening to port ${process.env.APP_PORT}!`);
            });
        } else {
            throw new Error(`Connection failed to ${process.env.DB_HOST} using current credential.`);
        }
    })
    .catch((error) => {
        console.error('Error starting up server.');
        _abd‍.g.console.error(error);
    })


